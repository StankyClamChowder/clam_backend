<!DOCTYPE html>
<html>
<head>
  <title>Hello, WebVR! - A-Frame</title>
  <meta name="description" content="Hello, WebVR! - A-Frame">
  <script src="https://aframe.io/releases/0.6.0/aframe.min.js"></script>
</head>
<body>
<a-scene>
  <a-assets>
    <img id="boxTexture"
         crossorigin="anonymous"
         src="https://s3.amazonaws.com/stanky-clams/64b83373d25de0a0c4afce036b1bc4cf8e78ee30e995f1f7ccc4a7113e411ca2.png">
    <img id="skyTexture"
         src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/sechelt.jpg">
  </a-assets>

  
  <a-box src="#boxTexture" position="0 2 -5" rotation="0 45 45" scale="2 2 2"></a-box>
  <a-sky src="#skyTexture"></a-sky>
</a-scene>
<script type="text/javascript">
  var boxTexture = document.getElementById('boxTexture');
  // get urls of all images
  const url = 'https://tranquil-island-62126.herokuapp.com/s3/images';
  const myHeaders = new Headers();
  const myInit = { method: 'GET',
    headers: myHeaders,
    mode: 'cors'
  };

  fetch(url, myInit)
    .then(response => response.json())
    .then(arr => {
      console.log('got here!!!!');
    boxTexture.src = arr[arr.length - 1];
  })
    .catch(err => {
      console.log('failedd!!', err);
    })
  // get the last url
  // make the box texture's url that last url
</script>
</body>
</html>
